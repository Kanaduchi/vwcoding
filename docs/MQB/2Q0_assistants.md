
# Кодирование 2Q0* (MFK 3.0) камеры ассистентов

**Данная инструкция подходит только для камер 2Q0980653**  

Lane Assist с адаптивным ведением по полосе — адаптивное ведение исключает "пин-понг" от полосы к полосе.  
Опция отличная, позволяет расслабиться за рулем и не вылавливать центр полосы, по трассе просто незаменима. 

Traffic Jam Assist — Ассистент движения в пробке.  
Это расширение работы Lane Assist для работы с 0 км/ч. В пробке машина подруливает, разгоняется и тормозит сама, без участия водителя. При остановке более 3 секунд для старта нужно нажать RES или тапнуть педаль газа.  
Для активации требуется параметрия.  

Emergency Assist — Ассистент экстренной остановки.  
Если водитель не желает или не может принимать участие в управлении автомобилем, то машина начинает его будить, сначала звуком, потом резким схватыванием тормозов,   
если и далее человек не принимает управление, то машина сама включает аварийку и останавливается.

Sign Assist — Ассистент распознавания дорожных знаков. Показывает знаки, которые считывает камера.  
Для активации необходим SWaP код.  

## SWaP коды расширения функционала

100E1000  
100E1100  
100E1200  
100E1300  
100E1400  
100E1500  
100E1600 — Распознавание предметов на пути  
100E1700 — Распознавание пешеходов (FCPW)  
100E0F00 — Распознавание знаков (TSR/VZE)  

## Прошивка камеры ассистентов

Расположены тут: [Прошивки и параметрия][1]

[1]: camAssistFirmwares.md

## Активации ассистентов

### Активация Light Assist — ассистент дальнего света
``` yaml title="логин-пароль: 31347"
Блок 09 (бортовая сеть) → Адаптация:
Fernlicht_assistent:
- Erweiterte_Fernlichtsteuerung: "AFS: FLA: BCM-Fernlicht" или "AFS: FLA: Fernlicht ueber AFS"
- Menuesteuerung Fernlichtassistent Werkseinstellung: available
- Menuesteuerung Fernlichtassistent: available
- Fernlichtassistent Reset: Деактивировать
→ Применить 
```
``` yaml
Блок A5 (камера ассистентов) → Кодирование:  
Байт 15 - Бит 5-7: (20) AFS_coding_Light_Assist,High_Beam_Assist
→ Применить 
```

Установите STG A5 > Кодирование > Байт 15 > Бит 5-7 на «20 AFS_coding_Light_Assist,High_Beam_Assist».

### Активация помощника удержания в полосе (Lane Assist) 

Включаем отображение Lane Assist на приборной панели
``` yaml
Блок 17 (комбинация приборов/ActiveInfoDisplay) → Кодирование:
Байт 04 – Бит 6 (Lane_assist): Активировать
Байт 11 – Бит 1 (Lane_assist_BAP): Активировать
```

HCA - Указание блоку рулевого управления о наличии Lane Assist
``` yaml title="логин-пароль: 19249"
Блок 44 (усилитель рулевого) → Кодирование:
Байт 03 – Бит 1 (Heading_control_assist): Активировать
→ Применить 
```

Включаем в меню новые функции
``` yaml
Блок 5F (мультимедия) → Адаптация:
Car_Function_List_BAP_Gen2:
- LDW_HCA_0x19: Активировать
- LDW_HCA_0x19_msg_bus: CAN_Extended
Car_Function_Adaptations_Gen2:
- menu_display_Lane_Departure_Warning: Активировать
- menu_display_Lane_Departure_Warning_over_threshold_high: Активировать
→ Применить 
```

Указание блоку парковочного ассистента о наличии Lane Assist (У кого PLA3.0 12 Датчиков)

!!! note ""
    PLA3.0 может стоять в системе как 10 блок, а не 76
    
``` yaml
Блок 76 → Кодирование:
Ассистент движения по полосе, связ. с усилителем рул. управления
Байт 3 – Бит 5 (HeadingControl Unterstutzung Auswahl): Активировать (Spurhalteassistent aktiviert)
→ Применить 
```

Конфигурация камеры ассистентов
``` yaml
Блок A5 (камера ассистентов) → Кодирование:  
Байт 08 - Бит 5-7 (Point_of_intervention): A0 late, setting over menu
Байт 09 - Бит 0-1 (Configuration_for_lane_departure_warning_Kl15): 03 Last_setting
Байт 09 - Бит 7 (HC): (1) coded
Байт 09 - Бит 2-3 (Lane_assist_system_mode): 0C Selection_over_menu
Байт 09 - Бит 4-5 (HC advanced takeover request): (1) coded
Байт 17 - Бит 0 (HC messages): (1) coded
→ Применить 
```
